<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>êµ¬ë¦„ì´ ê°„ì‹ ëª¨ìŒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            border: none;
            outline: none;
        }

        body {
            background-color: rgb(107, 209, 175);
        }

        .wrapper {
            width: 95%;
            margin: 0 auto;
        }

        #search_container {
            margin: 1em 0;
        }

        #search_container>input {
            background-color: transparent;
            width: 40%;
            border-bottom: 2px solid chocolate;
            padding: 1em 0;
        }

        /*
        padding: 1em 0; ì—ì„œ emì˜ ê¸°ì¤€ì€ í•´ë‹¹ ìš”ì†Œì˜ ê¸€ê¼´ í¬ê¸°(font-size) ì…ë‹ˆë‹¤.

âœ” ìì„¸í•œ ì„¤ëª…

1em = í˜„ì¬ ìš”ì†Œ(#search_container > input)ì— ì ìš©ëœ font-size ê°’.

ì˜ˆë¥¼ ë“¤ì–´ ì´ input ìš”ì†Œì˜ font-sizeê°€ 16pxë¼ë©´
1em = 16px â†’ padding-topê³¼ padding-bottomì´ ê°ê° 16pxì´ ë©ë‹ˆë‹¤.

ë§Œì•½ inputì— font-sizeê°€ ë”°ë¡œ ì§€ì •ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ë¶€ëª¨ ìš”ì†Œì˜ font-sizeë¥¼ ìƒì†ë°›ì•„ ê·¸ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°í•©ë‹ˆë‹¤.
        */

        #search_container>input:focus {
            border-bottom-color: #fa68b8;
        }

        #search_container button {
            padding: 1em 2em;
            margin-left: 1em;
            background-color: #333333;
            color: #ffffff;
            border-radius: 5px;
            margin-top: 0.5em;

        }

        .button_value {
            border: 2px solid #ffffff;
            padding: 1em 2.2em;
            border-radius: 3em;
            background-color: transparent;
            color: #333333;
            cursor: pointer;
        }

        .active {
            background-color: #333333;
            color: #fff;
        }

        #products {
            display: grid;
            grid-template-columns: auto auto auto;
            grid-column-gap: 1.5em;
            padding: 2em 0;
        }

        .card {
            background-color: #fff;
            max-width: 18em;
            margin-top: 1em;
            padding: 1em;
            border-radius: 5px;
            box-shadow: 1em 2em 2.5em #33333346;
        }

        .image_container {
            text-align: center;
        }

        img {
            max-width: 100%;
            object-fit: contain;
        }

        /*
            object-fit: contain; ì€ ì´ë¯¸ì§€ë‚˜ ë¹„ë””ì˜¤ ê°™ì€ ìš”ì†Œë¥¼ ì˜ë¦¬ì§€ ì•Šë„ë¡ ì „ì²´ê°€ ë³´ì´ê²Œ ìœ ì§€í•˜ë©´ì„œ, ì£¼ì–´ì§„ ë°•ìŠ¤ ì•ˆì— ë¹„ìœ¨ì„ ìœ ì§€í•œ ì±„ë¡œ ë§ì¶° ë„£ëŠ” ë°©ì‹ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

            ğŸ” ê°„ë‹¨í•œ ì •ì˜

            ìš”ì†Œì˜ ë¹„ìœ¨ì„ ìœ ì§€í•˜ë©´ì„œ ì „ì²´ ì½˜í…ì¸ ê°€ ë°•ìŠ¤ ì•ˆì— ëª¨ë‘ ë“¤ì–´ê°€ë„ë¡ ì¶•ì†ŒÂ·í™•ëŒ€í•œë‹¤.
            ë‚¨ëŠ” ê³µê°„ì´ ìƒê¸°ë©´ ì—¬ë°±ì´ ìƒê¸´ë‹¤.
            */

        .container {
            padding-top: 1em;
            color: #333333;
        }

        .container h5 {
            font-weight: 500;
        }

        .hide {
            display: none;
        }

        @media screen and (max-width: 720px) {
            img {
                max-width: 100%;
                object-fit: contain;
                height: 10em;
            }

            .card {
                max-width: 10em;
                margin-top: 1em;
            }

            #products {
                grid-template-columns: auto auto;
                grid-column-gap: 1em;
            }
        }

        /*ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±í•˜ê¸°*/
    </style>
</head>

<body>
    <div class="wrapper">
        <div id="search_container">
            <input type="search" id="search_input" placeholder="êµ¬ë¦„ì´ ê°„ì‹ì„ ê²€ìƒ‰í•´ ë³´ì„¸ìš”." />
            <button id="search">ê²€ìƒ‰í•´ìš”</button>
        </div>
        <div id="buttons">
            <button class="button_value" onclick="filter_product('ëª¨ë“ ê±°ì—ìš”')">ëª¨ë“ ê±°ì—ìš”</button>
            <button class="button_value" onclick="filter_product('ë¯¼íŠ¸ë§›ì´ì—ìš”')">ë¯¼íŠ¸ë§›ì´ì—ìš”</button>
            <button class="button_value" onclick="filter_product('ì—°ì–´ë§›ì¸ë°ìš”')">ì—°ì–´ë§›ì¸ë°ìš”</button>
            <button class="button_value" onclick="filter_product('ê³ ê¸°ë§›ê»Œë“¤')">ê³ ê¸°ë§›ê»Œë“¤</button>
            <button class="button_value" onclick="filter_product('ë‘ë¶€ê°€ë“ ê»Œ')">ë‘ë¶€ê°€ë“ ê»Œ</button>
        </div>
        <div id="products"></div>
    </div>
    <script>
        let products = {
            data: [
                {
                    product_name: "ë¯¼íŠ¸ê°€ë“ ê»Œ",
                    category: "ë¯¼íŠ¸ë§›ì´ì—ìš”",
                    price: "300",
                    image: "ddd.jpg",
                },
                {
                    product_name: "ë¯¼íŠ¸ì¢‹ì•„ ê»Œ",
                    category: "ë¯¼íŠ¸ë§›ì´ì—ìš”",
                    price: "400",
                    image: "dddd.jpg",
                },
                {
                    product_name: "ë¯¼íŠ¸ëŠ” ì¢‹ì€ê±° ê»Œ",
                    category: "ë¯¼íŠ¸ë§›ì´ì—ìš”",
                    price: "300",
                    image: "ddddd.jpg",
                },
                {
                    product_name: "ë¯¼íŠ¸ëŠ” ì¢‹ì€ê±°ìš” ê»Œ",
                    category: "ë¯¼íŠ¸ë§›ì´ì—ìš”",
                    price: "500",
                    image: "dddddd.jpg",
                },
                {
                    product_name: "ì—°ì–´ ê°€ë“ ê»Œ",
                    category: "ì—°ì–´ë§›ì¸ë°ìš”",
                    price: "300",
                    image: "cccc.jpg",
                },
                {
                    product_name: "ì—°ì–´ ì¡°ê¸ˆ ê»Œ",
                    category: "ì—°ì–´ë§›ì¸ë°ìš”",
                    price: "200",
                    image: "ccccc.jpg",
                },
                {
                    product_name: "ì—°ì–´ ì¡°ê¸ˆ ê°€ë“ ê»Œ",
                    category: "ì—°ì–´ë§›ì¸ë°ìš”",
                    price: "1200",
                    image: "cccccc.jpg",
                },
                {
                    product_name: "ì—°ì–´ ë°”ì‚­ ë°”ì‚­ ê»Œ",
                    category: "ì—°ì–´ë§›ì¸ë°ìš”",
                    price: "400",
                    image: "ccddcccc.jpg",
                },
                {
                    product_name: "ì†Œê³ ê¸° ê»Œ",
                    category: "ê³ ê¸°ë§›ê»Œë“¤",
                    price: "500",
                    image: "dsfjdk.jpg",
                },
                {
                    product_name: "ë¼ì§€ê³ ê¸° ê»Œ",
                    category: "ê³ ê¸°ë§›ê»Œë“¤",
                    price: "300",
                    image: "dsdk.jpg",
                },
                {
                    product_name: "ë‹­ê³ ê¸° ê»Œ",
                    category: "ê³ ê¸°ë§›ê»Œë“¤",
                    price: "1200",
                    image: "dsdddk.jpg",
                },
                {
                    product_name: "ì˜¤ë¦¬ê³ ê¸° ê»Œ",
                    category: "ê³ ê¸°ë§›ê»Œë“¤",
                    price: "250",
                    image: "ddfdfdk.jpg",
                },
                {
                    product_name: "ë‘ë¶€ 1ë‹¨ê³„ ê»Œ",
                    category: "ë‘ë¶€ê°€ë“ ê»Œ",
                    price: "100",
                    image: "dubuone.jpg",
                },
                {
                    product_name: "ë‘ë¶€ 2ë‹¨ê³„ ê»Œ",
                    category: "ë‘ë¶€ê°€ë“ ê»Œ",
                    price: "200",
                    image: "dubutwo.jpg",
                },
                {
                    product_name: "ë‘ë¶€ 3ë‹¨ê³„ ê»Œ",
                    category: "ë‘ë¶€ê°€ë“ ê»Œ",
                    price: "300",
                    image: "dubuthree.jpg",
                },
                {
                    product_name: "ë‘ë¶€ 4ë‹¨ê³„ ê»Œ",
                    category: "ë‘ë¶€ê°€ë“ ê»Œ",
                    price: "400",
                    image: "dubufour.jpg",
                },
            ],
        }

        for (let i of products.data) {
            let card = document.createElement("div")
            card.classList.add("card", i.category, "hide")
            let img_container = document.createElement("div")
            img_container.classList.add("image_container")
            let image = document.createElement("img")
            image.setAttribute("src", i.image)
            //ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ element.setAttribute(name, value)ëŠ” HTML ìš”ì†Œ(DOM ê°ì²´)ì˜ íŠ¹ì • 'ì†ì„±(attribute)'ì— ìƒˆë¡œìš´ ê°’(value)ì„ ì„¤ì •í•˜ê±°ë‚˜ ê¸°ì¡´ ê°’ì„ ë³€ê²½í•˜ëŠ” ë©”ì„œë“œ
            card.appendChild(img_container)
            let container = document.createElement("div")
            container.classList.add("container")
            let name = document.createElement("h5")
            name.classList.add("product_name")
            name.innerText = i.product_name.toUpperCase()
            container.appendChild(name)
            let price = document.createElement("h6")
            price.innerText = i.price + "ì›ì´ì—ìš”"
            container.appendChild(price)
            card.appendChild(container)
            document.querySelector("#products").appendChild(card)
        }

        function filter_product(value) {
            let buttons = document.querySelectorAll(".button_value")
            buttons.forEach(function (button) {
                if (value.toUpperCase() == button.innerText.toUpperCase()) {
                    button.classList.add("active")
                } else {
                    button.classList.remove("active")
                }
            })

            let elements = document.querySelectorAll(".card")
            elements.forEach(function (element) {
                if (value == "ëª¨ë“ ê±°ì—ìš”") {
                    element.classList.remove("hide")
                } else {
                    if (element.classList.contains(value)) {
                        //contains()í•´ë‹¹ í´ë˜ìŠ¤ê°€ ìˆëŠ”ì§€ ê²€ì‚¬
                        element.classList.remove("hide")
                    } else {
                        element.classList.add("hide")
                    }
                }
            })
        }

        document.querySelector("#search").addEventListener("click", function () {
            let search_input = document.querySelector("#search_input").value
            let elements = document.querySelectorAll(".product_name")
            let cards = document.querySelectorAll(".card")

            elements.forEach(function (element, index) {
                if (element.innerText.includes(search_input.toUpperCase())) {
                    //includes() ëŠ” ì–´ë–¤ ê°’ì´ ë‚´ë¶€ì— í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤. ë¬¸ìì—´(String)ê³¼ ë°°ì—´(Array)ì—ì„œ ëª¨ë‘ ì‚¬ìš©ë©ë‹ˆë‹¤.
                cards[index].classList.remove("hide")
                } else {
                    cards[index].classList.add("hide")
                }
            })
        })

        window.onload = function(){
            filter_product("ëª¨ë“ ê±°ì—ìš”")
        }

    </script>
</body>

</html>
